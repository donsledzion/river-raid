{"version":3,"file":"/js/cs-draw.js","mappings":"MAAA,IAAIA,EAAI,EA+BR,SAASC,IAA+B,IAAvBC,EAAuB,uDAAb,EAAGC,EAAU,uDAAF,EAClCC,KAAKC,SAAWH,EAChBE,KAAKE,OAASH,EAIlB,SAASI,IACLC,QAAQC,QAER,IAAIC,EAAe,GACfC,EAAUC,EAAE,aAAaC,MAE7BD,EAAE,SAASE,MAAK,WACR,IAAIC,EAAIH,EAAE,SAAWA,EAAER,MAAMY,KAAK,OAAOH,MACrCI,EAAIL,EAAE,SAAWA,EAAER,MAAMY,KAAK,OAAOH,MACzCH,EAAaQ,KAAK,IAAIjB,EAAQc,EAAGE,OAIzCP,EAAaS,MAAK,SAACC,EAAEC,GACjB,OAAOD,EAAEf,SAAWgB,EAAEhB,YAG1B,IAAIiB,EAAI,EACJC,EAAW,EACfX,EAAE,SAASE,MAAK,WAERF,EAAE,SAAWA,EAAER,MAAMY,KAAK,OAAOQ,KAAK,QAAQd,EAAaY,GAAGjB,UAC9DO,EAAE,SAAWA,EAAER,MAAMY,KAAK,OAAOQ,KAAK,QAAQd,EAAaY,GAAGhB,QAE3DI,EAAaY,GAAGhB,OAASiB,IACxBA,EAAWb,EAAaY,GAAGhB,QAE/BE,QAAQiB,IAAI,UAAUH,EAAE,OAASZ,EAAaY,GAAGjB,SAAS,MAAQK,EAAaY,GAAGhB,OAAO,MACzFgB,OAIR,IAAII,EAAUhB,EAAaA,EAAaiB,OAAO,GAAGtB,SAC9CuB,EAASC,SAASC,eAAe,UAErC,GAAIF,EAAOG,WAAY,CACnB,IAAIC,EAAMJ,EAAOG,WAAW,MAC5BC,EAAIC,UAAU,EAAE,EAAEL,EAAOM,MAAMN,EAAOtB,QACtCE,QAAQiB,IAAI,YAAYC,GACxBlB,QAAQiB,IAAI,aAAaF,GACzB,IAAIY,EAAwB,GAAbP,EAAOM,MAClBE,EAAW,IAEXC,GAAYT,EAAOM,MAAQ,EAAEC,IAAeT,EAC5CY,GAAYV,EAAOtB,OAAS,EAAE6B,IAAeZ,EACjDf,QAAQiB,IAAI,YAAYY,GACxB7B,QAAQiB,IAAI,YAAYa,GACxB9B,QAAQiB,IAAI,YAAYd,GACxBqB,EAAIO,YACJP,EAAIQ,OAAO,EAAEJ,GACbJ,EAAIS,OAAON,EAASC,GACpBJ,EAAIS,OAAON,IAAWzB,EAAa,GAAGL,SAAS+B,IAAY1B,EAAa,GAAGJ,QAAUK,GAAS2B,GAC9F,IAAI,IAAII,EAAI,EAAIA,EAAIhC,EAAaiB,OAASe,IACtCV,EAAIQ,OAAOL,IAAWE,EAAQ3B,EAAagC,EAAE,GAAGrC,SAAS+B,GACzDJ,EAAIS,OAAON,IAAWE,EAAQ3B,EAAagC,GAAGrC,SAAS+B,GACvDJ,EAAIS,OAAON,IAAWE,EAAQ3B,EAAagC,GAAGrC,SAAS+B,IAAY1B,EAAagC,GAAGpC,QAAUK,GAAS2B,GACtGN,EAAIS,OAAON,IAAWE,EAAQ3B,EAAagC,EAAE,GAAGrC,SAAS+B,IAAY1B,EAAagC,EAAE,GAAGpC,QAAUK,GAAS2B,GAI9GN,EAAIW,UAAY,EAChBX,EAAIY,UAjGZrC,IACAK,EAAE,QAAQiC,OAAM,WACZtC,MACEP,EACFY,EAAE,iBACGkC,OACG,qCAAqC9C,EADjC,yDAGuCA,EAAE,4BAA4BA,EAAE,GAAG,0DAA0DA,EAAE,GAHtI,8DAMqCA,EAAE,cAAcA,EAAE,iBAAiBA,EANxE,sJASqCA,EAAE,cAAcA,EAAE,iBAAiBA,EATxE,8MAgBhBY,EAAEiB,UAAUkB,GAAG,QAAS,cAAc,WAClCnC,EAAER,MAAM4C,QAAQ,MAAMC,SACtB1C,OAGJK,EAAEiB,UAAUkB,GAAG,QAAS,gBAAgB,WACpCxC,Q","sources":["webpack:///./resources/js/cs-draw.js"],"sourcesContent":["let i = 0;\ndraw();\n$(\"#add\").click(function(){\n    draw();\n    ++i;\n    $(\"#dynamicTable\")\n        .append('' +\n            '<tr class=\"cs-p p-0 m-0\" data-id=\"'+i+'\">' +\n                '<td class=\"p-0 m-0\">' +\n                    '<input type=\"number\"name=\"point['+i+'][number]\" placeholder=\"'+(i+1)+'\" class=\"form-control text-sm-center\" readonly value=\"'+(i+1)+'\" />' +\n                '</td>' +\n                '<td class=\"p-0 m-0\">' +\n                    '<input type=\"number\" data-id=\"'+i+'\" id=\"cs-x-'+i+'\" name=\"point['+i+'][x]\" placeholder=\"0,0\" class=\"cs-x form-control text-sm-center\" step=\"0.01\" value=\"0.00\" />' +\n                '</td>' +\n                '<td class=\"p-0 m-0\">' +\n                    '<input type=\"number\" data-id=\"'+i+'\" id=\"cs-y-'+i+'\" name=\"point['+i+'][y]\" placeholder=\"0,0\" class=\"cs-y form-control text-sm-center\" step=\"0.01\" value=\"0.00\"  /></td>' +\n                '<td class=\"p-0 m-0\">' +\n                    '<button type=\"button\" class=\"btn btn-danger remove-tr w-100\">-</button>' +\n                '</td>' +\n            '</tr>');\n});\n\n$(document).on('click', '.remove-tr', function(){\n    $(this).parents('tr').remove();\n    draw();\n});\n\n$(document).on('click', '#draw-button', function(){\n    draw();\n});\n\nfunction CsPoint(_distance=0, _height=0){\n    this.distance = _distance;\n    this.height = _height;\n}\n\n\nfunction draw() {\n    console.clear();\n\n    let CrossSection = [];\n    let compLvl = $(\"#comp_lvl\").val();\n\n    $(\".cs-x\").each(function() {\n            let x = $(\"#cs-x-\" + $(this).data(\"id\")).val();\n            let y = $(\"#cs-y-\" + $(this).data(\"id\")).val();\n            CrossSection.push(new CsPoint(x, y));\n        }\n    );\n\n    CrossSection.sort((a,b) => {\n        return a.distance - b.distance ;\n    });\n\n    let j = 0 ;\n    let csHeight = 0 ;\n    $(\".cs-x\").each(function() {\n\n            $(\"#cs-x-\" + $(this).data(\"id\")).attr(\"value\",CrossSection[j].distance);\n            $(\"#cs-y-\" + $(this).data(\"id\")).attr(\"value\",CrossSection[j].height);\n\n            if(CrossSection[j].height > csHeight){\n                csHeight = CrossSection[j].height ;\n            }\n            console.log(\"Point [\"+j+\"] = \" + CrossSection[j].distance+\" , \" + CrossSection[j].height+\" |\");\n            j++;\n        }\n    );\n\n    let csWidth = CrossSection[CrossSection.length-1].distance ;\n    let canvas = document.getElementById('canvas');\n\n    if (canvas.getContext) {\n        let ctx = canvas.getContext('2d');\n        ctx.clearRect(0,0,canvas.width,canvas.height);\n        console.log(\"csWidth: \"+csWidth);\n        console.log(\"csHeight: \"+csHeight);\n        let x_offset = canvas.width*0.1;\n        let y_offset = +120;\n\n        let xMultip = ((canvas.width - 2*x_offset)) / (+csWidth) ;\n        let yMultip = ((canvas.height - 2*x_offset)) / (+csHeight) ;\n        console.log(\"xMultip: \"+xMultip);\n        console.log(\"yMultip: \"+yMultip);\n        console.log(\"compLvl: \"+compLvl);\n        ctx.beginPath();\n        ctx.moveTo(0,y_offset);\n        ctx.lineTo(x_offset,y_offset);\n        ctx.lineTo(x_offset+ +CrossSection[0].distance,y_offset- (+CrossSection[0].height - +compLvl)*yMultip);\n        for(let k = 1 ; k < CrossSection.length ; k++){\n            ctx.moveTo(x_offset+ +xMultip*CrossSection[k-1].distance,y_offset);\n            ctx.lineTo(x_offset+ +xMultip*CrossSection[k].distance,y_offset);\n            ctx.lineTo(x_offset+ +xMultip*CrossSection[k].distance,y_offset- (+CrossSection[k].height - +compLvl)*yMultip);\n            ctx.lineTo(x_offset+ +xMultip*CrossSection[k-1].distance,y_offset- (+CrossSection[k-1].height - +compLvl)*yMultip);\n        }\n\n        //ctx.closePath();\n        ctx.lineWidth = 2;\n        ctx.stroke();\n\n    }\n}\n"],"names":["i","CsPoint","_distance","_height","this","distance","height","draw","console","clear","CrossSection","compLvl","$","val","each","x","data","y","push","sort","a","b","j","csHeight","attr","log","csWidth","length","canvas","document","getElementById","getContext","ctx","clearRect","width","x_offset","y_offset","xMultip","yMultip","beginPath","moveTo","lineTo","k","lineWidth","stroke","click","append","on","parents","remove"],"sourceRoot":""}